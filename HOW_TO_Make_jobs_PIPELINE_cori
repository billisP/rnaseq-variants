
echo "HOW_TO_RUN::I will start the pipeline" 



# I need to load or have links to following programs programs: 
# bwa=/Users/kbillis/programs/bwa-0.7.17/bwa  
# samtools=/Users/kbillis/programs/samtools-1.3.1/samtools 
# samtools=samtools
# bcftools=bcftools





# input: 
SCRATCH=/Users/kbillis/DATA_ANALYSIS_PHD/Synechococcus_elongatus_PCC_7942/
refSeq=/Users/kbillis/DATA_ANALYSIS_PHD/Synechococcus_elongatus_PCC_7942/PRJNA196229//637000308.fna
fastq_files=$SCRATCH/Synechococcus/PRJNA404081/
working_dir=$SCRATCH/Synechococcus/PRJNA404081/
gff=/Users/kbillis/google_drive/myProjects/auth/snp/data/637000308.gbk.gff

# location of my code: 
gitCode=/Users/kbillis/google_drive/myProjects/auth//snp/scripts/..../

# work in working dir
cd $working_dir 



# make indexes
perl $gitCode/make_indexes.pl  $refSeq 
if [ $? -ne "0" ]q
then
   echo "HOW_TO_RUN::***! Error, failed to finish index build" 
   exit 1 
else
   echo "HOW_TO_RUN::(-: I did the indexes"
fi



###### REQUIRED ARGUMENTS: #######
# where is my scratch: 
SCRATCH=$1    
# where is my fna / reference: 
refSeq=$2     
# where are my fastq file (one!): 
fastq_gz=$3
# where is my working dir: 
working_dir=$4
# where is my gff: 
gff=$5
# location of my code: 
gitCode=$6



print ""

#!/bin/bash
#SBATCH -N 1
#SBATCH -C haswell
#SBATCH -q regular
#SBATCH -J testJob
#SBATCH --mail-user=kbillis@lbl.gov
#SBATCH --mail-type=ALL
#SBATCH -t 00:30:00

#OpenMP settings:
export OMP_NUM_THREADS=1
export OMP_PLACES=threads
export OMP_PROC_BIND=spread


#run the application:
./HOW....




# to submit :
  
sbatch  test_j_2




